# æ¨¡æ‹Ÿ TikTok ç”¨æˆ·ç‚¹å‡»æ¨èä½

### 
RecommendationTracker/
â”œâ”€â”€ tracker-service/         â†’ Spring Boot æ¥å£æœåŠ¡ï¼ˆè®°å½•è¡Œä¸ºï¼‰
â”œâ”€â”€ kafka-simulator/         â†’ æ¨¡æ‹Ÿ Kafka æ¶ˆæ¯ç”Ÿäº§ä¸æ¶ˆè´¹
â”œâ”€â”€ storage/                 â†’ MySQL è¡¨ç»“æ„ + æ’å…¥é€»è¾‘
â”œâ”€â”€ README.md


### kafka workflow
+--------------------------+
|  å‰ç«¯ / curl / Postman   |
|    å‘å‡ºç”¨æˆ·è¡Œä¸ºè¯·æ±‚      |
| POST /trackEvent         |
| JSON: UserEvent          |
+-----------+--------------+
|
â–¼
+--------------------------+
|  @RestController         |
|  TrackEventController    |
|  ğŸ”¹ æ¥æ”¶è¯·æ±‚              |
|  ğŸ”¹ ä½¿ç”¨ @RequestBody æ˜ å°„|
|  ğŸ”¹ è°ƒç”¨ KafkaProducerSvc|
+-----------+--------------+
|
â–¼
+--------------------------+
|  KafkaProducerService    |
|  ğŸ”¹ æ³¨å…¥ KafkaTemplate   |
|  ğŸ”¹ è¯»å–é…ç½®ä¸­çš„ topic    |
|  ğŸ”¹ æ‰§è¡Œ kafkaTemplate.send |
+-----------+--------------+
|
â–¼
+--------------------------+
|  KafkaTemplateï¼ˆSpringï¼‰ |
|  ğŸ”¹ è‡ªåŠ¨ JSON åºåˆ—åŒ–     |
|  ğŸ”¹ å‘é€åˆ° Kafka broker  |
+-----------+--------------+
|
â–¼
+-----------------------------+
|       Kafka Broker          |
|  ğŸ“¦ topic: user-behavior-topic |
|  ğŸ”„ ç­‰å¾…ä¸‹æ¸¸æ¶ˆè´¹è¡Œä¸ºæ•°æ®     |
+-----------------------------+
[Postman / curl (å‘é€ JSON è¯·æ±‚)]
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    TrackEventController    â”‚  â† æ¥æ”¶å‰ç«¯ç”¨æˆ·è¡Œä¸ºï¼ˆPOSTï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   KafkaProducerService     â”‚  â† æŠŠç”¨æˆ·è¡Œä¸ºå‘é€åˆ° Kafkaï¼ˆmockï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MockKafkaTemplate      â”‚  â† æ¨¡æ‹Ÿ Kafkaï¼ŒæŠŠæ¶ˆæ¯ä¼ ç»™ Consumer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     UserEventConsumer      â”‚  â† æ¨¡æ‹Ÿâ€œæ”¶åˆ°æ¶ˆæ¯â€ï¼Œä¿å­˜åˆ°æ•°æ®åº“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    UserEventRepository     â”‚  â† è°ƒç”¨ save() æ–¹æ³•å­˜è¿› MySQL
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        MySQL æ•°æ®åº“         â”‚  â† ä¿å­˜è¡Œä¸ºè®°å½•ï¼ˆuser_event è¡¨ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
![relationship] (table.png)

## ğŸ“Œ Features

- Accepts user behavior data via a POST endpoint
- Simulates Kafka producer â†’ consumer workflow
- Stores behavior logs in a MySQL database
- End-to-end logging to track every step of data flow
- Fully extensible: easily swap mock Kafka for real Kafka

---

### ğŸ§  Concepts Practiced
MVC: Controller â†’ Service â†’ Repository

Data persistence with Spring Data JPA

Message flow simulation (Kafka-like)

Application layering and logging

Full backend traceability



